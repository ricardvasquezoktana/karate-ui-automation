'use strict';var k=function(a){function b(e){return a.next(e)}function c(e){return a.throw(e)}return new Promise(function(e,d){function f(g){g.done?e(g.value):Promise.resolve(g.value).then(b,c).then(f,d)}f(a.next())})};/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var m=this||self,p=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},aa=function(a,b,c){return a.call.apply(a.bind,arguments)},ba=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
aa:ba;return q.apply(null,arguments)},r=function(a,b){function c(){}c.prototype=b.prototype;a.Y=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ea=function(e,d,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[d].apply(e,g)}},t=function(a){return a};var u="getAccounts hello getLogBuffer recordLog getQuirks updateQuirks uiEvent proxyUIEvent getProxyConfig".split(" ");var ja=function(a){switch(a){case ca.name:return ca;case da.name:return da;case ea.name:return ea;case fa.name:return fa;case ha.name:return ha;default:let b=ia.get(a);b||(b=new v(a),ia.set(a,b));return b}},v=class{constructor(a){this.name=a}toString(){return this.name}},ia=new Map,ca=new v("async"),da=new v("generic"),ea=new v("runtime"),fa=new v("system"),ha=new v("crypto"),ka=class extends Error{constructor(a,b,c){super(c);this.code=a;this.category=b;Object.setPrototypeOf(this,new.target.prototype)}toString(){return`${this.category}:${this.code} (${this.message||
"Undefined error."})`}};var la=class{constructor(){let a=void 0,b=void 0;this.promise=new Promise((c,e)=>{a=c;b=e});this.resolve=a;this.reject=b}},ma=class extends ka{constructor(a,b="One or more errors occurred."){super(1,ca,b);this.errors=a;Object.setPrototypeOf(this,new.target.prototype)}flatten(){const a=[],b=[this.errors.slice(0)];for(;0!==b.length;){const c=b[0];for(;0!==c.length;){const e=c.shift();if(e instanceof ma){b.unshift(e.errors.slice(0));break}else a.push(e)}b[0]===c&&b.shift()}return new ma(a,this.message)}};function w(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,w);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));void 0!==b&&(this.cause=b)}r(w,Error);w.prototype.name="CustomError";const na=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var x=function(){this.fa=Date.now()},oa=null;x.prototype.set=function(a){this.fa=a};x.prototype.reset=function(){this.set(Date.now())};x.prototype.get=function(){return this.fa};var y=class{constructor(a,b){this.name=a;this.value=b}toString(){return this.name}},pa=new y("OFF",Infinity),qa=new y("CONFIG",700),z=[pa,new y("SHOUT",1200),new y("SEVERE",1E3),new y("WARNING",900),new y("INFO",800),qa,new y("FINE",500),new y("FINER",400),new y("FINEST",300),new y("ALL",0)],A=null,ra=class{constructor(a,b,c,e,d){this.aa=void 0;this.reset(a||pa,b,c,e,d)}reset(a,b,c,e){this.la=e||Date.now();this.ra=a;this.ua=b;this.ta=c;this.aa=void 0}getMessage(){return this.ua}},sa=class{constructor(a=
null){this.level=null;this.qa=[];this.parent=a||null;this.children=[]}publish(a){let b=this;for(;b;)b.qa.forEach(c=>{c(a)}),b=b.parent}},ta=function(a,b){var c=a.entries[b];if(c)return c;c=ta(a,b.slice(0,Math.max(b.lastIndexOf("."),0)));const e=new sa(c);a.entries[b]=e;c.children.push(e);return e},ua=class{constructor(){this.entries={};const a=new sa;a.level=qa;this.entries[""]=a}},va;function wa(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1};var xa,ya=function(){if(void 0===xa){var a=null,b=m.trustedTypes;if(b&&b.createPolicy)try{a=b.createPolicy("goog#html",{createHTML:t,createScript:t,createScriptURL:t})}catch(c){m.console&&m.console.error(c.message)}xa=a}return xa};var za=class{constructor(a){this.da=a}toString(){return this.da+""}},Aa=function(a){return a instanceof za&&a.constructor===za?a.da:"type_error:TrustedResourceUrl"},Ba={},Ca=function(a){const b=ya();a=b?b.createScriptURL(a):a;return new za(a,Ba)};var B=class{constructor(a){this.ca=a}toString(){return this.ca.toString()}},Da={},Ea=new B("about:invalid#zClosurez",Da);var Fa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Ia=function(){var a=C(),b="";if(D&&D.platform?"Windows"===D.platform:F("Windows"))b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0";else if(Ga()||F("iPad")||F("iPod"))b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".");else if(D&&D.platform?"macOS"===D.platform:F("Macintosh"))b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):
"10";else if(-1!=C().toLowerCase().indexOf("kaios"))b=/(?:KaiOS)\/(\S+)/i,b=(a=b.exec(a))&&a[1];else if(D&&D.platform?"Android"===D.platform:F("Android"))b=/Android\s+([^\);]+)(\)|;)/,b=(a=b.exec(a))&&a[1];else if(D&&D.platform?"Chrome OS"===D.platform:F("CrOS"))b=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1];a=0;b=Fa(String(b||"")).split(".");const c=Fa("16").split("."),e=Math.max(b.length,c.length);for(let g=0;0==a&&g<e;g++){var d=b[g]||"",f=c[g]||"";do{d=/(\d*)(\D*)(.*)/.exec(d)||
["","","",""];f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];if(0==d[0].length&&0==f[0].length)break;a=Ha(0==d[1].length?0:parseInt(d[1],10),0==f[1].length?0:parseInt(f[1],10))||Ha(0==d[2].length,0==f[2].length)||Ha(d[2],f[2]);d=d[3];f=f[3]}while(0==a)}return a},Ha=function(a,b){return a<b?-1:a>b?1:0};a:for(var Ja=["CLOSURE_FLAGS"],Ka=m,La=0;La<Ja.length;La++)if(Ka=Ka[Ja[La]],null==Ka)break a;function C(){var a=m.navigator;return a&&(a=a.userAgent)?a:""}var D;const Ma=m.navigator;D=Ma?Ma.userAgentData||null:null;function Na(a){return D?D.brands.some(({brand:b})=>b&&-1!=b.indexOf(a)):!1}function F(a){return-1!=C().indexOf(a)};function G(){return!!D&&0<D.brands.length}function Oa(){return G()?Na("Chromium"):(F("Chrome")||F("CriOS"))&&!(G()?0:F("Edge"))||F("Silk")};const Pa={};var Qa=function(a){const b=ya();a=b?b.createHTML(a):a;return new H(a,Pa)};class H{constructor(a){this.ba=a}toString(){return this.ba.toString()}};/*

 SPDX-License-Identifier: Apache-2.0
*/
class Ra{constructor(a){this.isValid=a}}function I(a){return new Ra(b=>b.substr(0,a.length+1).toLowerCase()===a+":")}const Sa=[I("data"),I("http"),I("https"),I("mailto"),I("ftp"),new Ra(a=>/^[^:]*([/?#]|$)/.test(a))];function Ta(a,b=Sa){if(a instanceof B)return a;for(let c=0;c<b.length;++c){const e=b[c];if(e instanceof Ra&&e.isValid(a))return new B(a,Da)}}const Ua="function"===typeof URL;function Va(a){var b={};if(a instanceof H)return a;a=String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");b.Ga&&(a=a.replace(/(^|[\r\n\t ]) /g,"$1&#160;"));b.Fa&&(a=a.replace(/(\r\n|\n|\r)/g,"<br>"));b.Ha&&(a=a.replace(/(\t+)/g,'<span style="white-space:pre">$1</span>'));return Qa(a)};function Wa(){var a=Aa(Xa).toString();const b=a.split(/\?|#/),c=/\?/.test(a)?"?"+b[1]:"";return{path:b[0],params:c,hash:/#/.test(a)?"#"+(c?b[2]:b[1]):""}}function Ya(a){const b=Wa();let c=b.params,e=c.length?"&":"?";a.forEach((d,f)=>{d=d instanceof Array?d:[d];for(let g=0;g<d.length;g++){const h=d[g];null!==h&&void 0!==h&&(c+=e+encodeURIComponent(f)+"="+encodeURIComponent(String(h)),e="&")}});return Ca(b.path+c+b.hash)};var J=function(a){this.va=a||"";oa||(oa=new x);this.za=oa};J.prototype.ma=!0;J.prototype.ha=!0;J.prototype.ia=!0;J.prototype.ya=!0;J.prototype.xa=!1;J.prototype.ja=!1;var K=function(a){return 10>a?"0"+a:String(a)},Za=function(a){J.call(this,a)};r(Za,J);function $a(){var a=new Za;a.ha=!0;a.ia=!1;a.ja=!0;return a}var ab=ta;va||(va=new ua);ab(va,"");var bb=new y("TRACE",100);z.push(new y("DEBUG",600));z.push(bb);function cb(a){switch(a.type){case 0:return a.object;case 1:return Error(a.message);case 2:return new ka(a.code,ja(a.category),a.message);case 3:return new ma(a.errors.map(cb),a.message)}};var db=function(a,...b){return k(function*(){const c=new la;chrome.runtime.sendMessage({method:a,args:b},e=>{const d=chrome.runtime.lastError;d?c.reject(new ka(1,ea,`Operation '${String(a)}' failed. ${d.message||"Undefined error."}`)):e.error?c.reject(cb(e.error)):c.resolve(e.output)});return c.promise}())},fb=function(){var a=new eb;for(const [c,e]of a.ea){const d=c;var b=e;if(u.every(f=>d.has(f)))return b}b={};for(const c of u)Object.defineProperty(b,c,{value:(...e)=>db(c,...e),writable:!1});a.ea.set(new Set(u),
b);return b},eb=class{constructor(){this.events=new Map;this.ea=new Map}};function Ga(){return F("iPhone")&&!F("iPod")&&!F("iPad")};var gb=function(a){gb[" "](a);return a};gb[" "]=function(){};var hb=F("Gecko")&&!(-1!=C().toLowerCase().indexOf("webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),ib=-1!=C().toLowerCase().indexOf("webkit")&&!F("Edge"),kb,lb=m.navigator||null;kb=lb&&lb.platform||"";var mb=function(){};var L=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};var nb=function(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var M=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1};M.prototype.stopPropagation=function(){};M.prototype.preventDefault=function(){this.defaultPrevented=!0};var ob=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const c=()=>{};m.addEventListener("test",c,b);m.removeEventListener("test",c,b)}catch(c){}return a}();var N=function(a,b){M.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.timeStamp=0;this.G=null;a&&this.X(a,b)};r(N,M);var pb={2:"touch",3:"pen",4:"mouse"};
N.prototype.X=function(a,b){var c=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(hb){a:{try{gb(b.nodeName);var d=!0;break a}catch(f){}d=!1}d||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=ib||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=ib||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:pb[a.pointerType]||"";this.state=a.state;this.timeStamp=a.timeStamp;this.G=a;a.defaultPrevented&&N.Y.preventDefault.call(this)};N.prototype.stopPropagation=function(){N.Y.stopPropagation.call(this);this.G.stopPropagation?this.G.stopPropagation():this.G.cancelBubble=!0};N.prototype.preventDefault=function(){N.Y.preventDefault.call(this);var a=this.G;a.preventDefault?a.preventDefault():a.returnValue=!1};var qb="closure_listenable_"+(1E6*Math.random()|0);var rb=0;var sb=function(a,b,c,e,d){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.V=d;this.key=++rb;this.removed=this.S=!1},O=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.V=null};var P=function(a){this.src=a;this.g={};this.I=0};P.prototype.add=function(a,b,c,e,d){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.I++);var g=tb(a,b,e,d);-1<g?(b=a[g],c||(b.S=!1)):(b=new sb(b,this.src,f,!!e,d),b.S=c,a.push(b));return b};P.prototype.remove=function(a,b,c,e){a=a.toString();if(!(a in this.g))return!1;var d=this.g[a];b=tb(d,b,c,e);return-1<b?(O(d[b]),Array.prototype.splice.call(d,b,1),0==d.length&&(delete this.g[a],this.I--),!0):!1};
var ub=function(a,b){var c=b.type;if(c in a.g){var e=a.g[c],d=na(e,b),f;(f=0<=d)&&Array.prototype.splice.call(e,d,1);f&&(O(b),0==a.g[c].length&&(delete a.g[c],a.I--))}};P.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.g)if(!a||c==a){for(var e=this.g[c],d=0;d<e.length;d++)++b,O(e[d]);delete this.g[c];this.I--}return b};
P.prototype.hasListener=function(a,b){var c=void 0!==a,e=c?a.toString():"",d=void 0!==b;return wa(this.g,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=e||d&&f[g].capture!=b))return!0;return!1})};var tb=function(a,b,c,e){for(var d=0;d<a.length;++d){var f=a[d];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.V==e)return d}return-1};var vb="closure_lm_"+(1E6*Math.random()|0),wb={},xb=0,zb=function(){const a=yb,b=function(c){return a.call(b.src,b.listener,c)};return b},Ab=function(a,b,c,e,d){if(Array.isArray(b))for(var f=0;f<b.length;f++)Ab(a,b[f],c,e,d);else if(c=Bb(c),a&&a[qb])a.oa.add(String(b),c,!0,p(e)?!!e.capture:!!e,d);else{if(!b)throw Error("Invalid event type");f=p(e)?!!e.capture:!!e;var g=Cb(a);g||(a[vb]=g=new P(a));c=g.add(b,c,!0,f,d);if(!c.proxy){d=zb();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)ob||(e=f),
void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Db(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");xb++}}},Db=function(a){return a in wb?wb[a]:wb[a]="on"+a},yb=function(a,b){if(a.removed)a=!0;else{b=new N(b,this);var c=a.listener,e=a.V||a.src;if(a.S&&"number"!==typeof a&&a&&!a.removed){var d=a.src;if(d&&d[qb])ub(d.oa,a);else{var f=a.type,g=a.proxy;d.removeEventListener?
d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(Db(f),g):d.addListener&&d.removeListener&&d.removeListener(g);xb--;(f=Cb(d))?(ub(f,a),0==f.I&&(f.src=null,d[vb]=null)):O(a)}}a=c.call(e,b)}return a},Cb=function(a){a=a[vb];return a instanceof P?a:null},Eb="__closure_events_fn_"+(1E9*Math.random()>>>0),Bb=function(a){if("function"===typeof a)return a;a[Eb]||(a[Eb]=function(b){return a.handleEvent(b)});return a[Eb]};const Xa=Ca("/iframe_sandbox.html");
var Fb=function(){return new Promise(a=>{"loading"!=document.readyState?a():Ab(document,"DOMContentLoaded",()=>{a()})})},Gb=function(){const a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},Jb=class{constructor(){this.port=this.O=null;this.T=[]}load(){const a=Gb();this.O=Hb(a);Fb().then(()=>{this.O&&document.body.appendChild(this.O)});return Ib(this.O,a).then(b=>{for(this.port=b.ports[0];0<this.T.length;)b=this.T.shift(),this.port.postMessage(b.data,
b.Aa)})}exec(a,b){return new Promise((c,e)=>{const d=new MessageChannel;d.port1.onmessage=n=>{d.port1.onmessage=null;n=n.data;null!=n.error?e(new EvalError(n.error)):c(n.result)};var f=null!=b?b:[];const g=[],h=[],l=[];for(const n of f)g.push(n.name),h.push(n.value),n.transfer&&l.push(n.value);f={code:a,paramNames:g,values:h};this.port?this.port.postMessage(f,[d.port2,...l]):this.T.push({data:f,Aa:[d.port2,...l]})})}};
function Ib(a,b){return new Promise(c=>{const e=d=>{d.source===a.contentWindow&&d.data===b&&(window.removeEventListener("message",e),c(d))};window.addEventListener("message",e)})}
function Hb(a){const b=nb("IFRAME");if(!b.sandbox)throw Error("iframe sandboxes not supported");b.sandbox.value="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads")&&b.sandbox.add("allow-downloads");if(""==Xa){a=Va(a);var c;let e;const d=null==(e=(c=window.document).querySelector)?void 0:e.call(c,"script[nonce]");c=d?d.nonce||d.getAttribute("nonce")||"":"";a=`<!DOCTYPE html><body><input type="hidden" id="nonce" value="${a}" /><script nonce="${Va(c)}">${'var g=function(){for(var b=Number(this),a=[],c=b;c<arguments.length;c++)a[c-b]=arguments[c];return a};/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar h=this||self,k=function(b){return b};var l;/*\n\n SPDX-License-Identifier: Apache-2.0\n*/\nvar m=function(){};m.prototype.toString=function(){return this.g.toString()};function n(b){if(void 0===l){var a=null;var c=h.trustedTypes;if(c&&c.createPolicy)try{a=c.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(d){h.console&&h.console.error(d.message)}l=a}b=(a=l)?a.createScript(b):b;a=new m;a.g=b;return a}function p(b){if(b instanceof m)return b.g;throw Error("");};function q(b,a){b.textContent=p(a);var c,d;(c=(a=null==(d=(c=(b.ownerDocument&&b.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?a.nonce||a.getAttribute("nonce")||"":"")&&b.setAttribute("nonce",c)};var r=function(b){var a=g.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:a,callback:function(f,t){c=f;d=t}};a=document.createElement("script");a.async=!1;a.setAttribute("data-index",e);e=\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(p(b))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()";e=n(e);q(a,e);e=function(f){c=!1;d=f.error||f};window.addEventListener("error",e);document.head.appendChild(a);window.removeEventListener("error",e);document.head.removeChild(a);if(!c)throw d;return d};var u=document.getElementById("nonce"),v=u?u.value:(new URL(location.href)).searchParams.get("nonce");function w(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(b){return!0}}\n(function(){if(!w())throw"sandboxing error";var b=new MessageChannel;b.port1.onmessage=function(c){try{var d=r.apply(null,[n("(function("+c.data.paramNames.join(", ")+") {\\n"+c.data.code+"\\n}).apply(null, arguments)")].concat(c.data.values));c.ports[0].postMessage({result:d})}catch(e){c.ports[0].postMessage({error:e.toString()})}};var a="*";"chrome-extension:"==location.protocol&&(a=location.origin);window.parent.postMessage(v,a,[b.port2])})();\n'}\x3c/script></body>`;
c=Qa(a);a=Ca("data:text/html;charset=UTF-8;base64,"+btoa(c.toString()));b.srcdoc=c instanceof H&&c.constructor===H?c.ba:"type_error:SafeHtml"}else a=Ya(new Map([["nonce",a]]));b.src=Aa(a).toString();b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";b.setAttribute("aria-hidden","true");return b};const Q={Da:!1};let R;
var Mb=function(a,b,c="",e=Q){return k(function*(){if(!Kb(e))return!1;try{yield Lb(a,b,c)}catch(d){if(d instanceof DOMException&&"SecurityError"===d.name)return!1;throw d;}return!0}())},Kb=function(a=Q){return a.Da&&!!window.showSaveFilePicker},Lb=function(a,b,c=""){return k(function*(){{var e={suggestedName:b};var d;(d=b.match(/\..+$/))?(d=d[0],d=16<d.length?null:d):d=null;const g=d;g&&(d=c,d=d.replace(/;[^]*/,""),e.types=[{description:"*"+g,accept:{[/^\s*[a-zA-Z0-9+._-]+\/[a-zA-Z0-9+._-]+?\s*$/.test(d)?d:
"*/*"]:[g]}}])}try{var f=yield window.showSaveFilePicker(e)}catch(g){if(g instanceof DOMException&&"AbortError"===g.name)return;throw g;}f=yield f.createWritable();try{yield f.write(a)}finally{yield f.close()}}())},Ob=function(a,b,c,e=""){return k(function*(){const d=b instanceof Blob?b:new Blob([b],{type:e});if("function"===typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(d,c);else if(!(Ga()||F("iPad")||F("iPod"))||0<=Ia()?0:Oa()||!(!F("iPad")&&!F("iPhone")||F("Safari")&&!(Oa()||(G()?
0:F("Coast"))||(G()?0:F("Opera"))||(G()?0:F("Edge"))||(G()?Na("Microsoft Edge"):F("Edg/"))||(G()?Na("Opera"):F("OPR"))||F("Firefox")||F("FxiOS")||F("Silk")||F("Android"))||Oa()||(G()?0:F("Coast"))||F("Firefox")||F("FxiOS"))&&F("AppleWebKit")){const f=new FileReader;f.onload=()=>{const g=nb("A");var h=Ta(String(f.result),Sa)||Ea;if(h instanceof B)h=h instanceof B&&h.constructor===B?h.ca:"type_error:SafeUrl";else{b:if(Ua){try{var l=new URL(h)}catch(n){l="https:";break b}l=l.protocol}else c:{l=document.createElement("a");
try{l.href=h}catch(n){l=void 0;break c}l=l.protocol;l=":"===l||""===l?"https:":l}h="javascript:"!==l?h:void 0}void 0!==h&&(g.href=h);g.download=c;g.click()};f.readAsDataURL(d)}else null==a.sandbox&&(a.sandbox=new Jb,a.sandbox.load()),yield a.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',
[{name:"blob",value:d,transfer:!1},{name:"filename",value:c,transfer:!1}]);yield Nb()}())},Pb=class{static download(a,b,c="",e=Q){return k(function*(){(yield Mb(a,b,c,e))||(R||(R=new Pb,R.X()),yield Ob(R,a,b,c))}())}constructor(a=Q){this.options=a;Kb(this.options)||"function"===typeof navigator.msSaveOrOpenBlob||(this.sandbox=new Jb)}X(){const a=this;k(function*(){null!=a.sandbox&&(yield a.sandbox.load())}())}download(a,b,c=""){const e=this;return k(function*(){(yield Mb(a,b,c,e.options))||(yield Ob(e,
a,b,c))}())}};function Nb(){return new Promise(a=>{setTimeout(a,500)})}var Qb=Pb,S=["SafeDownloader"],T=m;S[0]in T||"undefined"==typeof T.execScript||T.execScript("var "+S[0]);for(var U;S.length&&(U=S.shift());)S.length||void 0===Qb?T=T[U]&&T[U]!==Object.prototype[U]?T[U]:T[U]={}:T[U]=Qb;var Rb=function(a,b){const c=Array.prototype.slice.call(arguments),e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Template required");return e.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(d,f,g,h,l,n,E,wc){if("%"==n)return"%";const jb=c.shift();if("undefined"==typeof jb)throw Error("[goog.string.format] Not enough arguments");arguments[0]=jb;return V[n].apply(null,arguments)})},V={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",
0)?a+L(" ",Number(c)-a.length):L(" ",Number(c)-a.length)+a},f:function(a,b,c,e,d){e=a.toString();isNaN(d)||""==d||(e=parseFloat(a).toFixed(d));let f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(e=f+e);if(isNaN(c)||e.length>=Number(c))return e;e=isNaN(d)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(d);a=Number(c)-e.length-f.length;return e=0<=b.indexOf("-",0)?f+e+L(" ",a):f+L(0<=b.indexOf("0",0)?"0":" ",a)+e},d:function(a,b,c,e,d,f,g,h){return V.f(parseInt(a,
10),b,c,e,0,f,g,h)}};V.i=V.d;V.u=V.d;class Sb{constructor(a,b){this.sa=100;this.na=a;this.wa=b;this.P=0;this.N=null}get(){let a;0<this.P?(this.P--,a=this.N,this.N=a.next,a.next=null):a=this.na();return a}put(a){this.wa(a);this.P<this.sa&&(this.P++,a.next=this.N,this.N=a)}};var Tb,Ub=function(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!F("Presto")&&(a=function(){var d=nb("IFRAME");d.style.display="none";document.documentElement.appendChild(d);var f=d.contentWindow;d=f.document;d.open();d.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;d=q(function(l){if(("*"==h||l.origin==h)&&l.data==g)this.port1.onmessage()},this);f.addEventListener("message",
d,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!(G()?0:F("Trident")||F("MSIE"))){var b=new a,c={},e=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var d=c.Z;c.Z=null;d()}};return function(d){e.next={Z:d};e=e.next;b.port2.postMessage(0)}}return function(d){m.setTimeout(d,0)}};function Vb(a){m.setTimeout(()=>{throw a;},0)};class Wb{constructor(){this.R=this.F=null}add(a,b){const c=Xb.get();c.set(a,b);this.R?this.R.next=c:this.F=c;this.R=c}remove(){let a=null;this.F&&(a=this.F,this.F=this.F.next,this.F||(this.R=null),a.next=null);return a}}var Xb=new Sb(()=>new Yb,a=>a.reset());class Yb{constructor(){this.next=this.scope=this.fn=null}set(a,b){this.fn=a;this.scope=b;this.next=null}reset(){this.next=this.scope=this.fn=null}};let W,Zb=!1,$b=new Wb,bc=(a,b)=>{W||ac();Zb||(W(),Zb=!0);$b.add(a,b)},ac=()=>{if(m.Promise&&m.Promise.resolve){const a=m.Promise.resolve(void 0);W=()=>{a.then(cc)}}else W=()=>{var a=cc;"function"!==typeof m.setImmediate||m.Window&&m.Window.prototype&&(G()||!F("Edge"))&&m.Window.prototype.setImmediate==m.setImmediate?(Tb||(Tb=Ub()),Tb(a)):m.setImmediate(a)}};var cc=()=>{let a;for(;a=$b.remove();){try{a.fn.call(a.scope)}catch(b){Vb(b)}Xb.put(a)}Zb=!1};var Y=function(a){this.j=0;this.ga=void 0;this.B=this.o=this.A=null;this.K=this.U=!1;if(a!=mb)try{var b=this;a.call(void 0,function(c){X(b,2,c)},function(c){X(b,3,c)})}catch(c){X(this,3,c)}},dc=function(){this.next=this.context=this.C=this.H=this.v=null;this.J=!1};dc.prototype.reset=function(){this.context=this.C=this.H=this.v=null;this.J=!1};var ec=new Sb(function(){return new dc},function(a){a.reset()}),fc=function(a,b,c){var e=ec.get();e.H=a;e.C=b;e.context=c;return e};
Y.prototype.then=function(a,b,c){return gc(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};Y.prototype.$goog_Thenable=!0;Y.prototype.ka=function(a,b){return gc(this,null,a,b)};Y.prototype.catch=Y.prototype.ka;Y.prototype.cancel=function(a){if(0==this.j){var b=new Z(a);bc(function(){hc(this,b)},this)}};
var hc=function(a,b){if(0==a.j)if(a.A){var c=a.A;if(c.o){for(var e=0,d=null,f=null,g=c.o;g&&(g.J||(e++,g.v==a&&(d=g),!(d&&1<e)));g=g.next)d||(f=g);d&&(0==c.j&&1==e?hc(c,b):(f?(e=f,e.next==c.B&&(c.B=e),e.next=e.next.next):ic(c),jc(c,d,3,b)))}a.A=null}else X(a,3,b)},lc=function(a,b){a.o||2!=a.j&&3!=a.j||kc(a);a.B?a.B.next=b:a.o=b;a.B=b},gc=function(a,b,c,e){var d=fc(null,null,null);d.v=new Y(function(f,g){d.H=b?function(h){try{var l=b.call(e,h);f(l)}catch(n){g(n)}}:f;d.C=c?function(h){try{var l=c.call(e,
h);void 0===l&&h instanceof Z?g(h):f(l)}catch(n){g(n)}}:g});d.v.A=a;lc(a,d);return d.v};Y.prototype.Ba=function(a){this.j=0;X(this,2,a)};Y.prototype.Ca=function(a){this.j=0;X(this,3,a)};
var X=function(a,b,c){if(0==a.j){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.j=1;a:{var e=c,d=a.Ba,f=a.Ca;if(e instanceof Y){lc(e,fc(d||mb,f||null,a));var g=!0}else{if(e)try{var h=!!e.$goog_Thenable}catch(n){h=!1}else h=!1;if(h)e.then(d,f,a),g=!0;else{if(p(e))try{var l=e.then;if("function"===typeof l){mc(e,l,d,f,a);g=!0;break a}}catch(n){f.call(a,n);g=!0;break a}g=!1}}}g||(a.ga=c,a.j=b,a.A=null,kc(a),3!=b||c instanceof Z||nc(a,c))}},mc=function(a,b,c,e,d){var f=!1,g=function(l){f||
(f=!0,c.call(d,l))},h=function(l){f||(f=!0,e.call(d,l))};try{b.call(a,g,h)}catch(l){h(l)}},kc=function(a){a.U||(a.U=!0,bc(a.pa,a))},ic=function(a){var b=null;a.o&&(b=a.o,a.o=b.next,b.next=null);a.o||(a.B=null);return b};Y.prototype.pa=function(){for(var a;a=ic(this);)jc(this,a,this.j,this.ga);this.U=!1};
var jc=function(a,b,c,e){if(3==c&&b.C&&!b.J)for(;a&&a.K;a=a.A)a.K=!1;if(b.v)b.v.A=null,oc(b,c,e);else try{b.J?b.H.call(b.context):oc(b,c,e)}catch(d){pc.call(null,d)}ec.put(b)},oc=function(a,b,c){2==b?a.H.call(a.context,c):a.C&&a.C.call(a.context,c)},nc=function(a,b){a.K=!0;bc(function(){a.K&&pc.call(null,b)})},pc=Vb,Z=function(a){w.call(this,a)};r(Z,w);Z.prototype.name="cancel";var qc=function(a,b){if("function"!==typeof a)if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)},rc=function(a){var b=null;return(new Y(function(c,e){b=qc(function(){c(void 0)},a);-1==b&&e(Error("Failed to schedule timer."))})).ka(function(c){m.clearTimeout(b);throw c;})};function sc(){const a=chrome.runtime.getManifest();return Rb("%s v%s log buffer as of %s (%s):\n",a.name,a.version,(new Date).toUTCString(),kb)}
var tc=function(a){return k(function*(){var b=yield a.background.getLogBuffer();const c=$a();b=[sc(),...b.map(e=>{a:{var d=e.l;if(!A){A={};for(let n=0,E;E=z[n];n++)A[E.value]=E,A[E.name]=E}if(d in A)d=A[d];else{for(var f=0;f<z.length;++f){var g=z[f];if(g.value<=d){d=g;break a}}d=null}}d=new ra(d,e.m,e.n,e.t,e.s);e=[];e.push(c.va," ");c.ha&&(f=new Date(d.la),e.push("[",K(f.getFullYear()-2E3)+K(f.getMonth()+1)+K(f.getDate())+" "+K(f.getHours())+":"+K(f.getMinutes())+":"+K(f.getSeconds())+"."+K(Math.floor(f.getMilliseconds()/
10)),"] "));if(c.ia){f=e.push;g=c.za.get();g=(d.la-g)/1E3;var h=g.toFixed(3),l=0;if(1>g)l=2;else for(;100>g;)l++,g*=10;for(;0<l--;)h=" "+h;f.call(e,"[",h,"s] ")}c.ya&&e.push("[",d.ta,"] ");c.ja&&e.push("[",d.ra.name,"] ");e.push(d.getMessage());c.xa&&(d=d.aa,void 0!==d&&e.push("\n",d instanceof Error?d.message:String(d)));c.ma&&e.push("\n");return e.join("")})];yield Pb.download(new Blob(b,{type:"text/plain"}),"EndpointVerification.log","text/plain")}())},uc=function(a,b){return k(function*(){b.disabled=
!0;try{yield a.background.uiEvent({event:"Sync Button Click"})}catch(c){}b.disabled=!1}())};
class vc{constructor(){this.background=fb();document.addEventListener("DOMContentLoaded",()=>{this.initialize()})}initialize(){const a=this;return k(function*(){for(var b=1;10>=b;++b)try{yield a.background.hello();break}catch(f){const g=f;if(11<=b)throw g;yield rc(100+(15<<b))}b=document.querySelectorAll("[data-i18n]");for(var c of b)b=c.getAttribute("data-i18n"),c.textContent=chrome.i18n.getMessage(b)||chrome.i18n.getMessage(`${b}_${"external"}`)||"PLACEHOLDER";if(c=document.querySelector("#download-log"))c.onclick=
()=>tc(a);if(c=document.querySelector("#show-log"))c.onclick=()=>{chrome.tabs.create({url:`${window.location.origin}/log.html`})};const e=document.querySelector("#log-level");if(e)if(c=(yield a.background.getQuirks()).logLevel){let f,g;e.value=null!=(g=null==(f=c.value)?void 0:f.toString())?g:"[ERROR]";e.onchange=()=>k(function*(){yield a.background.updateQuirks({logLevel:Number(e.value)})}())}else e.disabled=!0;const d=document.querySelector("#force-sync");d&&(d.onclick=()=>uc(a,d))}())}}new vc;
